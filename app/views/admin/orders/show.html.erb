<div class="container ml-5">
  <h2 class="customers my-4 px-1 text-center">
    注文履歴詳細
  </h2>
  <table class="table border-0">
    <tbody>
      <tr>
        <td class="border-0 text-left">購入者</td>
        <td class="border-0 text-left">
          <%= link_to admin_customer_path(@order.customer.id) do %>
            <%= @order.customer.first_name %> <%= @order.customer.last_name %>
          <% end %>
        </td>
      </tr>
      <tr>
        <td class="border-0 text-left">注文日</td>
        <td class="border-0 text-left"><%= @order.created_at.strftime('%Y/%m/%d') %></td>
      </tr>
      <tr>
        <td class="border-0 text-left">配送先</td>
        <td class="border-0 text-left"><%= @order.postal_code %><%= @order.address %> <%= @order.name %></td>
      </tr>
      <tr>
        <td class="border-0 text-left">支払方法</td>
        <td class="border-0 text-left">
          <% if @order.payment_method != false %>
            <td class="text-success border-0 text-left">
              <%= @order.payment_method %>
            </td>
          <% else %>
            <td class="text-muted border-0 text-left">
              <%= @order.payment_method %>
            </td>
          <% end %>
        </td>
      </tr>
      <tr>
        <td class="border-0 text-left">注文ステータス</td>
        <%= form_with model: @order, url: admin_order_path(@order.id), local:true do |f| %>
          <td class="border-0 text-left">
            <%= f.select :order_status, Order.order_statuses.keys, {入金待ち: 0, 入金確認: 1, 制作中: 2, 発送準備中: 3, 発送済み: 4} %>
          </td>
          <td class="border-0 text-left d-flex">
            <%= f.submit "更新", class: "btn btn-success" %>
          </td>
        <% end %>
      </tr>
    </tbody>
  </table>

  <table class="table">
    <thead>
      <tr>
        <th>商品名</th>
        <th>単価(税込)</th>
        <th>数量</th>
        <th>小計</th>
        <th>制作ステータス</th>
      </tr>
    </thead>
    <tbody>
      <%# @order.each do |orders| %>
        <tr>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
          <%= form_with model: @order, url: admin_order_detail_path, local:true do |f| %>
            <td>
              <%= f.select :production_status, OrderDetail.production_statuses.keys, {着手不可: 0, 制作待ち: 1, 制作中: 2, 制作完了: 3} %>
            </td>
            <td>
              <%= f.submit "更新", class: "btn btn-success" %>
            </td>
          <% end %>
        <tr>
      <%# end %>
    </tbody>
  </table>
</div>

<h1>ページング機能</h1>
